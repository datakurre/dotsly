import"../chunks/DsnmJJEf.js";import"../chunks/DJcM_ylg.js";import{A as ue,v as we,y as P,o as E,ay as Ae,q as Ee,g as h,L as ye,w as Te,H as Ce,x as ie,z as Z,I as G,ad as Ne,aG as Me,B as le,D as Ie,C as B,ac as qe,a4 as U,aa as oe,aD as de,av as De,aR as ke,F as he,G as Le,aS as Re,aT as Oe,aU as J,al as _e,ar as xe,aV as He,aC as Be,aW as Ve,O as Ue,aX as Ye,aY as Ge,aZ as ze,a_ as Fe,a$ as We,b0 as Xe,b1 as $e,a6 as Ke,b as L,a0 as Pe,b2 as Ze,i as H,t as F,k as I,m as O,n as D,p as ge,l as me,_ as Q,j,b3 as ve,s as X,N as z,b4 as Je}from"../chunks/D7F6d-Yc.js";import{e as V,c as Qe,a as je}from"../chunks/CT_GS1Dh.js";import{p as R,i as W}from"../chunks/DV98Lrf2.js";import{i as pe}from"../chunks/hbMvTmtK.js";function er(e,a){return a}function rr(e,a,r){for(var t=e.items,l=[],s=a.length,n=0;n<s;n++)He(a[n].e,l,!0);var i=s>0&&l.length===0&&r!==null;if(i){var u=r.parentNode;Be(u),u.append(r),t.clear(),M(e,a[0].prev,a[s-1].next)}Ve(l,()=>{for(var _=0;_<s;_++){var b=a[_];i||(t.delete(b.k),M(e,b.prev,b.next)),_e(b.e,!i)}})}function ar(e,a,r,t,l,s=null){var n=e,i={flags:a,items:new Map,first:null};{var u=e;n=E?P(Ae(u)):u.appendChild(ue())}E&&Ee();var _=null,b=!1,v=new Map,o=ye(()=>{var c=r();return De(c)?c:c==null?[]:de(c)}),g,f;function d(){tr(f,g,i,v,n,l,a,t,r),s!==null&&(g.length===0?_?he(_):_=le(()=>s(n)):_!==null&&Le(_,()=>{_=null}))}we(()=>{f??=Ue,g=h(o);var c=g.length;if(b&&c===0)return;b=c===0;let S=!1;if(E){var w=Te(n)===Ce;w!==(c===0)&&(n=ie(),P(n),Z(!1),S=!0)}if(E){for(var p=null,A,m=0;m<c;m++){if(G.nodeType===Ne&&G.data===Me){n=G,S=!0,Z(!1);break}var T=g[m],C=t(T,m);A=se(G,i,p,null,T,C,m,l,a,r),i.items.set(C,A),p=A}c>0&&P(ie())}if(E)c===0&&s&&(_=le(()=>s(n)));else if(Ie()){var q=new Set,y=B;for(m=0;m<c;m+=1){T=g[m],C=t(T,m);var N=i.items.get(C)??v.get(C);N?be(N,T,m):(A=se(null,i,null,null,T,C,m,l,a,r,!0),v.set(C,A)),q.add(C)}for(const[k,x]of i.items)q.has(k)||y.skipped_effects.add(x.e);y.add_callback(d)}else d();S&&Z(!0),h(o)}),E&&(n=G)}function tr(e,a,r,t,l,s,n,i,u){var _=a.length,b=r.items,v=r.first,o=v,g,f=null,d=[],c=[],S,w,p,A;for(A=0;A<_;A+=1){if(S=a[A],w=i(S,A),p=b.get(w),p===void 0){var m=t.get(w);if(m!==void 0){t.delete(w),b.set(w,m);var T=f?f.next:o;M(r,f,m),M(r,m,T),ee(m,T,l),f=m}else{var C=o?o.e.nodes_start:l;f=se(C,r,f,f===null?r.first:f.next,S,w,A,s,n,u)}b.set(w,f),d=[],c=[],o=f.next;continue}if(be(p,S,A),(p.e.f&J)!==0&&he(p.e),p!==o){if(g!==void 0&&g.has(p)){if(d.length<c.length){var q=c[0],y;f=q.prev;var N=d[0],k=d[d.length-1];for(y=0;y<d.length;y+=1)ee(d[y],q,l);for(y=0;y<c.length;y+=1)g.delete(c[y]);M(r,N.prev,k.next),M(r,f,N),M(r,k,q),o=q,f=k,A-=1,d=[],c=[]}else g.delete(p),ee(p,o,l),M(r,p.prev,p.next),M(r,p,f===null?r.first:f.next),M(r,f,p),f=p;continue}for(d=[],c=[];o!==null&&o.k!==w;)(o.e.f&J)===0&&(g??=new Set).add(o),c.push(o),o=o.next;if(o===null)continue;p=o}d.push(p),f=p,o=p.next}if(o!==null||g!==void 0){for(var x=g===void 0?[]:de(g);o!==null;)(o.e.f&J)===0&&x.push(o),o=o.next;var K=x.length;if(K>0){var Y=_===0?l:null;rr(r,x,Y)}}e.first=r.first&&r.first.e,e.last=f&&f.e;for(var Se of t.values())_e(Se.e);t.clear()}function be(e,a,r,t){qe(e.v,a),e.i=r}function se(e,a,r,t,l,s,n,i,u,_,b){var v=(u&Re)!==0,o=(u&Oe)===0,g=v?o?U(l,!1,!1):oe(l):l,f=(u&ke)===0?n:oe(n),d={i:f,v:g,k:s,a:null,e:null,prev:r,next:t};try{if(e===null){var c=document.createDocumentFragment();c.append(e=ue())}return d.e=le(()=>i(e,g,f,_),E),d.e.prev=r&&r.e,d.e.next=t&&t.e,r===null?b||(a.first=d):(r.next=d,r.e.next=d.e),t!==null&&(t.prev=d,t.e.prev=d.e),d}finally{}}function ee(e,a,r){for(var t=e.next?e.next.e.nodes_start:r,l=a?a.e.nodes_start:r,s=e.e.nodes_start;s!==null&&s!==t;){var n=xe(s);l.before(s),s=n}}function M(e,a,r){a===null?e.first=r:(a.next=r,a.e.next=r&&r.e),r!==null&&(r.prev=a,r.e.prev=a&&a.e)}const ce=[...` 	
\r\fÂ \v\uFEFF`];function lr(e,a,r){var t=""+e;if(r){for(var l in r)if(r[l])t=t?t+" "+l:l;else if(t.length)for(var s=l.length,n=0;(n=t.indexOf(l,n))>=0;){var i=n+s;(n===0||ce.includes(t[n-1]))&&(i===t.length||ce.includes(t[i]))?t=(n===0?"":t.substring(0,n))+t.substring(i+1):n=i}}return t===""?null:t}function sr(e,a){return e==null?null:String(e)}function re(e,a,r,t,l,s){var n=e.__className;if(E||n!==r||n===void 0){var i=lr(r,t,s);(!E||i!==e.getAttribute("class"))&&(i==null?e.removeAttribute("class"):e.className=i),e.__className=r}else if(s&&l!==s)for(var u in s){var _=!!s[u];(l==null||_!==!!l[u])&&e.classList.toggle(u,_)}return s}function $(e,a,r,t){var l=e.__style;if(E||l!==a){var s=sr(a);(!E||s!==e.getAttribute("style"))&&(s==null?e.removeAttribute("style"):e.style.cssText=s),e.__style=a}return t}const nr=Symbol("is custom element"),ir=Symbol("is html");function or(e){if(E){var a=!1,r=()=>{if(!a){if(a=!0,e.hasAttribute("value")){var t=e.value;ne(e,"value",null),e.value=t}if(e.hasAttribute("checked")){var l=e.checked;ne(e,"checked",null),e.checked=l}}};e.__on_r=r,Ye(r),Ge()}}function ne(e,a,r,t){var l=vr(e);E&&(l[a]=e.getAttribute(a),a==="src"||a==="srcset"||a==="href"&&e.nodeName==="LINK")||l[a]!==(l[a]=r)&&(a==="loading"&&(e[ze]=r),r==null?e.removeAttribute(a):typeof r!="string"&&cr(e).includes(a)?e[a]=r:e.setAttribute(a,r))}function vr(e){return e.__attributes??={[nr]:e.nodeName.includes("-"),[ir]:e.namespaceURI===Fe}}var fe=new Map;function cr(e){var a=e.getAttribute("is")||e.nodeName,r=fe.get(a);if(r)return r;fe.set(a,r=[]);for(var t,l=e,s=Element.prototype;s!==l;){t=Xe(l);for(var n in t)t[n].set&&r.push(n);l=We(l)}return r}function fr(e,a,r=a){var t=new WeakSet;$e(e,"input",async l=>{var s=l?e.defaultValue:e.value;if(s=ae(e)?te(s):s,r(s),B!==null&&t.add(B),await Ke(),s!==(s=a())){var n=e.selectionStart,i=e.selectionEnd;e.value=s??"",i!==null&&(e.selectionStart=n,e.selectionEnd=Math.min(i,e.value.length))}}),(E&&e.defaultValue!==e.value||L(a)==null&&e.value)&&(r(ae(e)?te(e.value):e.value),B!==null&&t.add(B)),Pe(()=>{var l=a();if(e===document.activeElement){var s=Ze??B;if(t.has(s))return}ae(e)&&l===te(e.value)||e.type==="date"&&!l&&!e.value||l!==e.value&&(e.value=l??"")})}function ae(e){var a=e.type;return a==="number"||a==="range"}function te(e){return e===""?null:+e}var ur=H('<div class="square svelte-gxsx5p"></div>');function dr(e,a){let r=R(a,"color",8,"#000");var t=ur();F(()=>$(t,`--color: ${r()??""}`)),I(e,t)}var hr=H('<div class="circle svelte-r5z0cw"></div>');function _r(e,a){let r=R(a,"color",8,"#000");var t=hr();F(()=>$(t,`--color: ${r()??""}`)),I(e,t)}var gr=H('<div class="arch-container svelte-1isloo0"><svg width="100%" height="100%" viewBox="0 0 100 100" preserveAspectRatio="none"><circle cx="0" cy="0" r="100"></circle></svg></div>');function mr(e,a){let r=R(a,"color",8,"#000"),t=R(a,"rotation",8,0);var l=gr(),s=O(l),n=O(s);D(s),D(l),F(()=>{$(l,`transform: rotate(${t()*90}deg);`),ne(n,"fill",r())}),I(e,l)}var pr=H('<div class="cell svelte-1w4104m" role="button" tabindex="0"><!></div>'),br=H('<div class="container svelte-1w4104m"><div class="grid svelte-1w4104m"></div></div>');function Sr(e,a){ge(a,!1);let r=R(a,"width",8,16),t=R(a,"height",8,16),l=R(a,"selectedShape",8,"square"),s=R(a,"selectedColor",8,"#000000"),n=U(Array(r()*t()).fill(null));function i(b){const v=h(n)[b];v&&v.shape==="arch"&&v.color===s()?ve(n,h(n)[b]={...v,rotation:(v.rotation+1)%4}):ve(n,h(n)[b]={shape:l(),color:s(),rotation:0})}pe();var u=br(),_=O(u);ar(_,5,()=>h(n),er,(b,v,o)=>{var g=pr(),f=O(g);{var d=c=>{var S=Q(),w=j(S);{var p=m=>{dr(m,{get color(){return h(v),L(()=>h(v).color)}})},A=m=>{var T=Q(),C=j(T);{var q=N=>{_r(N,{get color(){return h(v),L(()=>h(v).color)}})},y=N=>{var k=Q(),x=j(k);{var K=Y=>{mr(Y,{get color(){return h(v),L(()=>h(v).color)},get rotation(){return h(v),L(()=>h(v).rotation)}})};W(x,Y=>{h(v),L(()=>h(v).shape==="arch")&&Y(K)},!0)}I(N,k)};W(C,N=>{h(v),L(()=>h(v).shape==="circle")?N(q):N(y,!1)},!0)}I(m,T)};W(w,m=>{h(v),L(()=>h(v).shape==="square")?m(p):m(A,!1)})}I(c,S)};W(f,c=>{h(v)&&c(d)})}D(g),V("click",g,()=>i(o)),V("keydown",g,c=>c.key==="Enter"&&i(o)),I(b,g)}),D(_),D(u),F(()=>$(_,`--width: ${r()??""}; --height: ${t()??""};`)),I(e,u),me()}var wr=H('<div class="toolbar svelte-1ld6r3r"><div class="shapes svelte-1ld6r3r"><button>Square</button> <button>Circle</button> <button>Arch</button></div> <div class="colors"><input type="color"/></div></div>');function Ar(e,a){ge(a,!1);const r=Qe();let t=U("square"),l=U("#000000");function s(S){z(t,S),r("shapeSelected",{shape:S})}function n(S){const w=S.target;z(l,w.value),r("colorSelected",{color:h(l)})}pe();var i=wr(),u=O(i),_=O(u);let b;var v=X(_,2);let o;var g=X(v,2);let f;D(u);var d=X(u,2),c=O(d);or(c),D(d),D(i),F((S,w,p)=>{b=re(_,1,"svelte-1ld6r3r",null,b,S),o=re(v,1,"svelte-1ld6r3r",null,o,w),f=re(g,1,"svelte-1ld6r3r",null,f,p)},[()=>({selected:h(t)==="square"}),()=>({selected:h(t)==="circle"}),()=>({selected:h(t)==="arch"})]),V("click",_,()=>s("square")),V("click",v,()=>s("circle")),V("click",g,()=>s("arch")),fr(c,()=>h(l),S=>z(l,S)),V("input",c,n),I(e,i),me()}var Er=H('<main class="svelte-1uha8ag"><!> <!></main>');function qr(e){let a=U("square"),r=U("#000000");function t(u){z(a,u.detail.shape)}function l(u){z(r,u.detail.color)}var s=Er();je(u=>{Je.title="Dotsly"});var n=O(s);Ar(n,{$$events:{shapeSelected:t,colorSelected:l}});var i=X(n,2);Sr(i,{width:16,height:16,get selectedShape(){return h(a)},get selectedColor(){return h(r)}}),D(s),I(e,s)}export{qr as component};
